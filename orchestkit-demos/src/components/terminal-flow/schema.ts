// Generated by OrchestKit Claude Plugin
// Created: 2026-02-19

/** Zod schema for TerminalFlow composition props */

import { z } from "zod";

const agentSchema = z.object({
  name: z.string(),
  color: z.string(),
  statusText: z.string(),
  completedText: z.string(),
  completionFrame: z.number(),
});

/** Schema defining all props for the TerminalFlow Remotion composition */
export const terminalFlowSchema = z.object({
  skillName: z.string(),
  skillCommand: z.string(),
  hook: z.string(),
  primaryColor: z.string().default("#8b5cf6"),

  // Scene 1: Command
  prompt: z.string().default("~/my-project"),
  scopeQuestion: z.string().optional(),
  scopeAnswer: z.string().optional(),

  // Scene 2-3: Agents
  agents: z.array(agentSchema),

  // Scene 4: Results
  resultTitle: z.string().default("VERIFICATION COMPLETE"),
  score: z.string(),
  findings: z.array(
    z.object({
      label: z.string(),
      value: z.string(),
      severity: z.enum(["pass", "warn", "fail"]),
    })
  ),
  advisories: z.array(z.object({ text: z.string() })).default([]),

  // CTA
  ctaCommand: z.string().default("/ork:verify"),
  ctaSubtext: z.string().default("claude plugin install ork"),

  // Audio
  backgroundMusic: z.string().optional(),
  musicVolume: z.number().default(0.1),
});

export type TerminalFlowProps = z.infer<typeof terminalFlowSchema>;
