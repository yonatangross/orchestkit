---
title: "Frontend Animation"
description: "Frontend animation patterns for Motion (Framer Motion), CSS scroll-driven animations, and View Transitions API. Use when implementing page transitions, scroll animations, layout animations, or gesture-driven interactions."
---

<span className="badge badge-gray">Reference</span> <span className="badge badge-yellow">medium</span>

**Primary Agent:** [frontend-ui-developer](/docs/reference/agents/frontend-ui-developer)


# Frontend Animation

Comprehensive patterns for building performant, accessible animations in frontend applications. Covers three complementary technologies: Motion (Framer Motion) for React component animations, CSS Scroll-Driven Animations for scroll-linked effects, and the View Transitions API for page navigation transitions. Each category has individual rule files in `rules/` loaded on-demand.

## Quick Reference

| Category | Rules | Impact | When to Use |
|----------|-------|--------|-------------|
| [Motion Library](#motion-library) | 3 | HIGH | Layout animations, gesture interactions, exit animations |
| [Scroll-Driven Animations](#scroll-driven-animations) | 3 | MEDIUM | Scroll progress, parallax, scroll-triggered reveals |
| [View Transitions](#view-transitions) | 3 | MEDIUM | Page transitions, shared element morphs, cross-document navigation |

**Total: 9 rules across 3 categories**

## Quick Start

```tsx
// Motion: Staggered list with exit animations
import { motion, AnimatePresence } from 'motion/react';
import { staggerContainer, staggerItem } from '@/lib/animations';

<AnimatePresence mode="wait">
  <motion.ul variants={staggerContainer} initial="initial" animate="animate">
    {items.map(item => (
      <motion.li key={item.id} variants={staggerItem}>{item.name}</motion.li>
    ))}
  </motion.ul>
</AnimatePresence>
```

```css
/* Scroll-Driven: Reading progress bar */
.progress-bar {
  position: fixed; top: 0; left: 0; height: 4px;
  background: var(--color-primary);
  transform-origin: left;
  animation: grow-progress linear;
  animation-timeline: scroll(root block);
}
@keyframes grow-progress {
  from { transform: scaleX(0); }
  to { transform: scaleX(1); }
}
```

```tsx
// View Transitions: React Router shared element
import { Link, useViewTransitionState } from 'react-router';

function ProductCard({ product }) {
  const isTransitioning = useViewTransitionState(`/products/${product.id}`);
  return (
    <Link to={`/products/${product.id}`} viewTransition>
      <img src={product.image} style={{
        viewTransitionName: isTransitioning ? 'product-image' : undefined,
      }} />
    </Link>
  );
}
```

## Motion Library

React component animations using Motion (Framer Motion) with centralized presets, AnimatePresence for exit animations, and spring physics.

| Rule | File | Key Pattern |
|------|------|-------------|
| Layout Animations | `rules/motion-layout.md` | AnimatePresence, page transitions, modal enter/exit, stagger lists |
| Gesture Interactions | `rules/motion-gestures.md` | Hover lift, tap scale, card hover, micro-interactions |
| Exit Animations | `rules/motion-exit.md` | AnimatePresence modes, collapse/expand, toast slide-in |

## Scroll-Driven Animations

CSS Scroll-Driven Animations API for performant, declarative scroll-linked effects without JavaScript. Chrome 115+, Edge 115+, Safari 18.4+.

| Rule | File | Key Pattern |
|------|------|-------------|
| Scroll Timeline | `rules/scroll-timeline.md` | scroll() function, named timelines, reading progress |
| Scroll Progress | `rules/scroll-progress.md` | view() function, animation-range, reveal on scroll |
| Scroll Snap & Parallax | `rules/scroll-snap.md` | Parallax sections, sticky headers, progressive enhancement |

## View Transitions

View Transitions API for smooth page navigation transitions, shared element animations, and cross-document transitions. Chrome 111+, Safari 18+.

| Rule | File | Key Pattern |
|------|------|-------------|
| View API | `rules/transitions-view-api.md` | startViewTransition, React Router viewTransition prop, flushSync |
| Shared Element Morph | `rules/transitions-morph.md` | view-transition-name, image galleries, pseudo-element customization |
| Cross-Document | `rules/transitions-cross-document.md` | @view-transition, pageswap/pagereveal, transition types |

## Performance Guidelines

1. **Animate only transform/opacity** -- hardware accelerated, no layout thrashing
2. **Use centralized presets** -- consistency and maintainability for Motion
3. **Progressive enhancement** -- `@supports (animation-timeline: view())` for scroll, feature detection for View Transitions
4. **Respect reduced motion** -- `prefers-reduced-motion: reduce` disables or shortens animations
5. **Keep transitions under 400ms** -- longer animations block user interaction

## Browser Support

| Feature | Chrome | Safari | Firefox | Edge |
|---------|--------|--------|---------|------|
| Motion (JS library) | All | All | All | All |
| Scroll-Driven CSS | 115+ | 18.4+ | In dev | 115+ |
| View Transitions (SPA) | 111+ | 18+ | In dev | 111+ |
| View Transitions (MPA) | 126+ | 18.2+ | In dev | 126+ |

## Key Decisions

| Decision | Choice | Rationale |
|----------|--------|-----------|
| JS Animation Library | Motion (Framer Motion) | Declarative API, AnimatePresence, spring physics |
| Scroll Effects | CSS Scroll-Driven API | Zero-JS, compositor-thread, 60fps guaranteed |
| Page Transitions | View Transitions API | Native browser support, shared element morphing |
| Preset Strategy | Centralized `animations.ts` | Consistent motion language, RTL awareness |
| Fallback Strategy | Progressive enhancement | IntersectionObserver for scroll, CSS fallback for transitions |
| Performance Target | 60fps, transform/opacity only | Hardware-accelerated, no layout reflow |

## Related Skills

- `testing-patterns` -- Accessibility testing for animations
- `accessibility` -- WCAG compliance for motion and transitions
- `performance` -- Performance impact considerations
- `design-system-starter` -- Integrating animation presets into design system components

## Capability Details

### motion-layout
**Keywords:** motion, framer-motion, AnimatePresence, page transition, modal, stagger, preset
**Solves:** React component animations, enter/exit transitions, staggered lists

### motion-gestures
**Keywords:** hover, tap, whileHover, whileTap, micro-interaction, card hover
**Solves:** Interactive hover/tap effects, button press feedback, card interactions

### motion-exit
**Keywords:** exit, AnimatePresence, collapse, accordion, toast, notification
**Solves:** Exit animations for conditional renders, height animations, notifications

### scroll-timeline
**Keywords:** scroll(), ScrollTimeline, progress, reading progress, named timeline
**Solves:** Animations tied to scroll container position

### scroll-progress
**Keywords:** view(), ViewTimeline, reveal, enter viewport, animation-range
**Solves:** Animations triggered by element visibility in viewport

### scroll-snap
**Keywords:** parallax, sticky header, progressive enhancement, @supports, fallback
**Solves:** Parallax effects, scroll-driven header changes, graceful degradation

### transitions-view-api
**Keywords:** startViewTransition, viewTransition, React Router, flushSync, SPA
**Solves:** Smooth page transitions in single-page apps

### transitions-morph
**Keywords:** view-transition-name, shared element, morph, hero, image gallery
**Solves:** Shared element animations between pages (list to detail, card to page)

### transitions-cross-document
**Keywords:** @view-transition, MPA, pageswap, pagereveal, cross-document, transition types
**Solves:** Transitions between separate HTML pages, directional navigation

## References

- `references/animation-presets.md` -- Complete Motion preset API reference
- `references/css-scroll-timeline.md` -- CSS scroll() and view() functions
- `references/react-router-integration.md` -- React Router 7.x view transition patterns
- `scripts/view-transition-wrapper.tsx` -- View transition wrapper component and hooks
