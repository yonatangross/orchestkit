{
  "skill": "audit-skills",
  "version": "2.0.0",
  "testCases": [
    {
      "id": "all-skills-pass",
      "rule": null,
      "query": "Run a full audit of all OrchestKit skills",
      "expectedBehavior": [
        "Globs src/skills/*/SKILL.md to discover all skills",
        "Runs all audit checks from rules/audit-checks.md in parallel",
        "Renders a table with skill name, line count, frontmatter status, manifest status, and rule/ref counts",
        "Shows totals summary: 'X pass, 0 warn, 0 fail' at bottom"
      ]
    },
    {
      "id": "skill-over-500-lines",
      "rule": "audit-checks",
      "query": "Audit skills and flag any that are too long",
      "expectedBehavior": [
        "Checks each SKILL.md body line count (excluding frontmatter)",
        "Marks any skill over 500 lines as FAIL in the audit table",
        "Reports the exact line count alongside the 500-line limit",
        "Suggests trimming or moving content to rules/ or references/ subdirectories"
      ]
    },
    {
      "id": "missing-frontmatter-field",
      "rule": "audit-checks",
      "query": "Check if all skills have required frontmatter fields",
      "expectedBehavior": [
        "Validates each SKILL.md has name, description, tags, user-invocable, and complexity fields",
        "Marks skills with missing required fields as FAIL in the audit table",
        "Lists which specific fields are absent for each failing skill",
        "Applies status rules from rules/audit-status.md to classify PASS/WARN/FAIL"
      ]
    },
    {
      "id": "skill-not-in-manifest",
      "rule": "audit-checks",
      "query": "Find any skills that exist in src/ but are not registered in the manifests",
      "expectedBehavior": [
        "Compares discovered src/skills/ directories against manifests/ork.json skills array",
        "Treats 'skills: all' in ork.json as covering all skills â€” marks those as YES",
        "Marks skills absent from ork.json as FAIL",
        "Reports manifest registration status in the output table column"
      ]
    },
    {
      "id": "zero-rules",
      "rule": "audit-status",
      "query": "Audit skills and highlight any that have no rules or references",
      "expectedBehavior": [
        "Counts files in each skill's rules/ and references/ subdirectories",
        "Skills with 0 rules AND 0 references are flagged as WARN (not FAIL)",
        "Notes that orchestration skills may legitimately have no rules",
        "Includes rule and reference file counts as columns in the output table"
      ]
    }
  ]
}
