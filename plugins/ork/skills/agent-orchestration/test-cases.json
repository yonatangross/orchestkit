{
  "skill": "agent-orchestration",
  "version": "2.0.0",
  "testCases": [
    {
      "id": "loops-react",
      "rule": "loops-react",
      "query": "Build an agent that reasons step-by-step and uses tools to answer questions",
      "expectedBehavior": [
        "Uses ReAct pattern with Thought/Action/Observation format",
        "Includes max step limit to prevent infinite loops",
        "Parses tool calls and executes them",
        "Returns Final Answer when reasoning is complete"
      ]
    },
    {
      "id": "loops-plan-execute",
      "rule": "loops-plan-execute",
      "query": "Create an agent that plans steps first then executes them with replanning",
      "expectedBehavior": [
        "Generates numbered plan before execution",
        "Executes steps sequentially with context passing",
        "Detects when replanning is needed",
        "Synthesizes final answer from step results"
      ]
    },
    {
      "id": "multi-supervisor",
      "rule": "multi-supervisor",
      "query": "Implement a supervisor that routes tasks to specialized agents",
      "expectedBehavior": [
        "Uses LLM to determine agent routing",
        "Supports parallel execution for independent agents",
        "Passes context between sequential agents",
        "Returns aggregated results from all agents"
      ]
    },
    {
      "id": "multi-debate",
      "rule": "multi-debate",
      "query": "Handle conflicting outputs from multiple agents",
      "expectedBehavior": [
        "Detects conflicts between agent findings",
        "Uses confidence scores or LLM arbitration",
        "Records resolution reasoning",
        "Applies resolutions to findings"
      ]
    },
    {
      "id": "multi-synthesis",
      "rule": "multi-synthesis",
      "query": "Combine outputs from 4 parallel specialist agents into a report",
      "expectedBehavior": [
        "Groups findings by category",
        "Produces executive summary with key findings",
        "Includes per-category recommendations",
        "Assigns overall confidence score"
      ]
    },
    {
      "id": "frameworks-crewai",
      "rule": "frameworks-crewai",
      "query": "Build a hierarchical CrewAI crew with manager delegation",
      "expectedBehavior": [
        "Creates manager agent with allow_delegation=True",
        "Defines specialist agents with specific roles",
        "Uses Process.hierarchical with manager_llm",
        "Enables memory for knowledge retention"
      ]
    },
    {
      "id": "frameworks-autogen",
      "rule": "frameworks-autogen",
      "query": "Set up a Microsoft Agent Framework team with termination conditions",
      "expectedBehavior": [
        "Uses AssistantAgent from autogen_agentchat",
        "Creates RoundRobinGroupChat or SelectorGroupChat",
        "Sets explicit termination conditions",
        "Separates model client from agent definition"
      ]
    },
    {
      "id": "frameworks-comparison",
      "rule": "frameworks-comparison",
      "query": "Choose a multi-agent framework for a production customer support system",
      "expectedBehavior": [
        "Evaluates requirements against framework capabilities",
        "Considers team expertise and framework maturity",
        "Provides decision tree or matrix",
        "Documents trade-offs and migration paths"
      ]
    },
    {
      "id": "scenario-orchestrator",
      "rule": "scenario-orchestrator",
      "query": "Orchestrate a skill across simple, medium, and complex scenarios in parallel",
      "expectedBehavior": [
        "Defines 3 scenarios with progressive difficulty (1x/3x/8x)",
        "Uses fan-out for parallel execution",
        "Aggregates results with quality comparison",
        "Provides scaling analysis and recommendations"
      ]
    },
    {
      "id": "scenario-routing",
      "rule": "scenario-routing",
      "query": "Implement milestone synchronization for parallel scenario execution",
      "expectedBehavior": [
        "Pauses at configurable milestone percentages",
        "Waits for all scenarios with timeout",
        "Continues on timeout to prevent deadlocks",
        "Tracks progress per scenario with checkpoints"
      ]
    }
  ]
}
