{
  "skill": "frontend-animation",
  "version": "2.0.0",
  "testCases": [
    {
      "id": "motion-layout",
      "rule": "motion-layout",
      "query": "Add page transition animations to a React Router app",
      "expectedBehavior": [
        "Wraps Routes with AnimatePresence mode='wait'",
        "Uses pageFade or pageSlide preset from @/lib/animations",
        "Keys motion.div on location.pathname",
        "Imports from motion/react, not framer-motion"
      ]
    },
    {
      "id": "motion-gestures",
      "rule": "motion-gestures",
      "query": "Add hover and tap interactions to a card component",
      "expectedBehavior": [
        "Uses cardHover and tapScale presets from @/lib/animations",
        "Spreads presets onto motion.div",
        "Does not use inline animation values",
        "Does not mix CSS transitions with Motion"
      ]
    },
    {
      "id": "motion-exit",
      "rule": "motion-exit",
      "query": "Create an accordion with expand/collapse animation",
      "expectedBehavior": [
        "Wraps conditional render in AnimatePresence",
        "Uses collapse preset from @/lib/animations",
        "Applies overflow-hidden on animated element",
        "Includes exit animation for unmount"
      ]
    },
    {
      "id": "scroll-timeline",
      "rule": "scroll-timeline",
      "query": "Create a reading progress bar that fills as the page scrolls",
      "expectedBehavior": [
        "Uses animation-timeline: scroll(root block)",
        "Animates transform: scaleX() not width",
        "Sets transform-origin: left",
        "Uses @supports for progressive enhancement"
      ]
    },
    {
      "id": "scroll-progress",
      "rule": "scroll-progress",
      "query": "Fade in cards as they scroll into view",
      "expectedBehavior": [
        "Uses animation-timeline: view()",
        "Sets animation-range: entry 0% entry 100%",
        "Animates opacity and transform only",
        "Includes fallback with default visible state"
      ]
    },
    {
      "id": "scroll-snap",
      "rule": "scroll-snap",
      "query": "Add a parallax background effect to a hero section",
      "expectedBehavior": [
        "Uses animation-timeline: view() with cover range",
        "Positions background with inset: -20% 0 for overflow",
        "Animates translateY only",
        "Wraps in @supports (animation-timeline: view())"
      ]
    },
    {
      "id": "transitions-view-api",
      "rule": "transitions-view-api",
      "query": "Add view transitions to React Router navigation",
      "expectedBehavior": [
        "Uses viewTransition prop on Link/NavLink",
        "Includes feature detection for startViewTransition",
        "Uses flushSync for manual state updates",
        "Handles unsupported browsers gracefully"
      ]
    },
    {
      "id": "transitions-morph",
      "rule": "transitions-morph",
      "query": "Create a shared element transition for an image gallery",
      "expectedBehavior": [
        "Assigns unique view-transition-name per image",
        "Uses useViewTransitionState for conditional naming",
        "Matches view-transition-name on source and target pages",
        "Does not duplicate view-transition-name values"
      ]
    },
    {
      "id": "transitions-cross-document",
      "rule": "transitions-cross-document",
      "query": "Add cross-document transitions to a multi-page site",
      "expectedBehavior": [
        "Uses @view-transition { navigation: auto } in CSS",
        "Customizes ::view-transition-old and ::view-transition-new",
        "Implements directional transitions with transition types",
        "Respects prefers-reduced-motion with animation: none"
      ]
    }
  ]
}
