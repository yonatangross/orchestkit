// OrchestKit Hooks - skill bundle
// Generated: 2026-02-28T17:17:04.832Z

function rn(e){return typeof e.command=="string"}function on(e){return typeof e.file_path=="string"&&typeof e.content=="string"}function cn(e){return typeof e.file_path=="string"&&typeof e.old_string=="string"&&typeof e.new_string=="string"}function an(e){return typeof e.file_path=="string"&&e.content===void 0}import{existsSync as F,statSync as he,renameSync as ye,mkdirSync as at,readSync as ke,readFileSync as xe,writeFileSync as _e}from"node:fs";import{join as ve}from"node:path";import{appendFileSync as Vt,mkdirSync as qt}from"node:fs";import{dirname as Kt}from"node:path";var N=[],G=!1,et=!1;function x(e,s){N.push({filePath:e,content:s}),Jt()}function W(){if(G||N.length===0)return;G=!0;let e=new Map;for(let s of N){let t=e.get(s.filePath);t?t.push(s.content):e.set(s.filePath,[s.content])}for(let[s,t]of e)try{qt(Kt(s),{recursive:!0}),Vt(s,t.join(""))}catch{}N.length=0,G=!1}function Jt(){et||(et=!0,process.on("exit",W),process.on("SIGTERM",()=>{W(),process.exit(0)}),process.on("SIGINT",()=>{W(),process.exit(0)}))}import{execSync as Se}from"node:child_process";import Yt from"node:os";import L from"node:path";function Xt(){return process.env.HOME||process.env.USERPROFILE||Yt.homedir()}function z(){return process.env.CLAUDE_PROJECT_DIR||"."}function st(){return process.env.CLAUDE_PLUGIN_ROOT||process.env.CLAUDE_PROJECT_DIR||"."}function nt(){return process.env.CLAUDE_PLUGIN_ROOT?L.join(Xt(),".claude","logs","ork"):L.join(z(),".claude","logs")}var mn=L.join,hn=L.sep;import{execSync as Qt}from"node:child_process";import{createHash as te}from"node:crypto";import{existsSync as rt,readFileSync as ee,writeFileSync as se,mkdirSync as ne}from"node:fs";import{join as Z,basename as re}from"node:path";var oe=20,ie=15,ce=/[^a-z0-9-]/g;function ae(e){let s=e||process.env.CLAUDE_PROJECT_DIR||process.cwd(),t=re(s);return ot(t,oe)}function ue(e){if(process.env.ORCHESTKIT_SESSION_BRANCH)return process.env.ORCHESTKIT_SESSION_BRANCH;let s=e||process.env.CLAUDE_PROJECT_DIR||process.cwd();try{let t=Qt("git branch --show-current",{cwd:s,encoding:"utf8",timeout:2e3,stdio:["pipe","pipe","pipe"]}).trim(),n=ot(t||"detached",ie);return process.env.ORCHESTKIT_SESSION_BRANCH=n,n}catch{return"nobranch"}}function pe(e){let s=e||new Date,t=String(s.getMonth()+1).padStart(2,"0"),n=String(s.getDate()).padStart(2,"0");return`${t}${n}`}function le(e){let s=e||new Date,t=String(s.getHours()).padStart(2,"0"),n=String(s.getMinutes()).padStart(2,"0");return`${t}${n}`}function fe(){let e=`${process.pid}-${Date.now()}-${Math.random()}`;return te("sha256").update(e).digest("hex").slice(0,4)}function ot(e,s){return e.toLowerCase().replace(ce,"-").replace(/-+/g,"-").replace(/^-|-$/g,"").slice(0,s)}function de(e,s){let t=ae(e),n=ue(e),r=pe(s),o=le(s),i=fe();return`${t}-${n}-${r}-${o}-${i}`}function ge(e){let s=e||process.env.CLAUDE_PROJECT_DIR||process.cwd(),t=Z(s,".instance","session-id.json");if(rt(t))try{let n=JSON.parse(ee(t,"utf8"));if(n.session_id&&n.created_at){let r=Date.now()-new Date(n.created_at).getTime(),o=1440*60*1e3;if(r<o)return n.session_id}}catch{}}function me(e,s){let t=s||process.env.CLAUDE_PROJECT_DIR||process.cwd(),n=Z(t,".instance"),r=Z(n,"session-id.json");try{rt(n)||ne(n,{recursive:!0}),se(r,JSON.stringify({session_id:e,created_at:new Date().toISOString()},null,2))}catch{}}function it(e){if(process.env.CLAUDE_SESSION_ID)return process.env.CLAUDE_SESSION_ID;let s=ge(e);if(s)return s;let t=de(e);return me(t,e),t}function v(){return nt()}function g(){return z()}function q(){return st()}function In(){return process.env.CLAUDE_ENV_FILE?process.env.CLAUDE_ENV_FILE:`${q()}/.claude/.instance_env`}function V(){return it()}function Cn(e){if(process.env.ORCHESTKIT_BRANCH)return process.env.ORCHESTKIT_BRANCH;try{let s=Se("git branch --show-current",{cwd:e||g(),encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim();return process.env.ORCHESTKIT_BRANCH=s,s}catch{return"unknown"}}function be(){return process.env.ORCHESTKIT_LOG_LEVEL||"warn"}function An(e){return e.replace(/\r\n/g,`
`)}function $e(e){let s=["debug","info","warn","error"];return s.indexOf(e)>=s.indexOf(be())}function a(){return{continue:!0,suppressOutput:!0}}function Hn(){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{permissionDecision:"allow"}}}function y(e){return{continue:!1,stopReason:e,hookSpecificOutput:{permissionDecision:"deny",permissionDecisionReason:e}}}function k(e){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"PostToolUse",additionalContext:e}}}function Re(e){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"UserPromptSubmit",additionalContext:e}}}function Dn(e,s){let t={continue:!0,suppressOutput:!0};return e&&(t.systemMessage=e),s&&(t.hookSpecificOutput={hookEventName:"UserPromptSubmit",additionalContext:s}),t}function Pn(e,s){let t={continue:!0,hookSpecificOutput:{hookEventName:"PreToolUse",additionalContext:e,permissionDecision:"allow"}};return s?t.systemMessage=s:t.suppressOutput=!0,t}function On(e){return{continue:!0,systemMessage:e}}function jn(e){return{continue:!0,systemMessage:`\u26A0 ${e}`}}function Nn(e){process.stderr.write(`\u26A0 ${e}
`),process.exit(2)}function Ln(e){return{continue:!1,stopReason:e,hookSpecificOutput:{hookEventName:"PreToolUse",permissionDecision:"deny",permissionDecisionReason:e}}}function Fn(e){return{continue:!0,suppressOutput:!0,hookSpecificOutput:{hookEventName:"PreToolUse",updatedInput:e}}}var Ee=200*1024,we=100*1024;function ut(e,s){if(F(e))try{if(he(e).size>s){let n=`${e}.old.${Date.now()}`;ye(e,n)}}catch{}}function pt(e){F(e)||at(e,{recursive:!0})}function h(e,s,t="debug"){if(!$e(t))return;let n=v(),r=`${n}/hooks.log`;try{pt(n),ut(r,Ee);let o=new Date().toISOString().replace("T"," ").slice(0,19);x(r,`[${o}] [${t.toUpperCase()}] [${e}] ${s}
`)}catch{}}function Mn(e,s,t){let n=v(),r=`${n}/permission-feedback.log`;try{pt(n),ut(r,we);let o=new Date().toISOString(),i=t?.tool_name||process.env.HOOK_TOOL_NAME||"unknown",c=t?.session_id||V();x(r,`${o} | ${e} | ${s} | tool=${i} | session=${c}
`)}catch{}}function Un(e){return e.hookSpecificOutput?.additionalContext?e.hookSpecificOutput.additionalContext:e.systemMessage&&typeof e.systemMessage=="string"?e.systemMessage:null}function Te(e){if(!e)return 0;let n=(e.match(/[{};()=><]/g)||[]).length/e.length>.03?2.8:3.5;return Math.ceil(e.length/n)}function Bn(e,s,t,n,r){let o=Te(e);return n?.isOverBudget(t)?(h(s,`Budget exhausted for ${t}, suppressing ${o}t`),a()):(r&&r.trackTokenUsage(s,t,o),Re(e))}function ct(e){let s=2166136261;for(let t=0;t<e.length;t++)s^=e.charCodeAt(t),s=Math.imul(s,16777619);return(s>>>0).toString(16).padStart(8,"0")}function Gn(e,s,t,n){let r=ve(e,s);if(F(r))try{let o=xe(r,"utf8");if(ct(o)===ct(t))return h(n,`Rules file ${s} unchanged, skipping write`),!1}catch{}return F(e)||at(e,{recursive:!0}),_e(r,t,"utf8"),h(n,`Wrote rules file: ${r}`),!0}function Wn(){try{let e=[],t=Buffer.allocUnsafe(256),n,r=0;for(;;)try{if(n=ke(r,t,0,256,null),n===0)break;e.push(Buffer.from(t.subarray(0,n)))}catch{break}let o=Buffer.concat(e).toString("utf8").trim();return o?JSON.parse(o):{tool_name:"",session_id:V(),tool_input:{}}}catch{return{tool_name:"",session_id:V(),tool_input:{}}}}function zn(e,s){let t=s.replace(/^\./,"").split("."),n=e;for(let r of t){if(n==null)return;n=n[r]}return n}function T(e,...s){return e.split(`
`).some(t=>s.every(n=>t.includes(n)))}function lt(e,...s){return e.split(`
`).some(t=>{let n=t.toLowerCase();return s.every(r=>n.includes(r.toLowerCase()))})}function Zn(e){return e.replace(/\\\s*[\r\n]+/g," ").replace(/\n/g," ").replace(/\s+/g," ").trim()}function Vn(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}import{execSync as E}from"node:child_process";function D(e){let s=e||g();try{return E("git branch --show-current",{cwd:s,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim()}catch{return"unknown"}}function Ie(e){let s=e||D();return["dev","main","master"].includes(s)}function R(e){let s=e||g();try{return E("git rev-parse --show-toplevel",{cwd:s,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim()}catch{return s}}function Yn(e){let s=e||g();try{return E("git rev-parse --git-dir",{cwd:s,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}),!0}catch{return!1}}function Ce(e){let s=e||g();try{return E("git status --short",{cwd:s,encoding:"utf8",timeout:1e4,stdio:["pipe","pipe","pipe"]}).trim()}catch{return""}}function ft(e){return Ce(e).length>0}function dt(e){let s=e||g();try{return E("git rev-parse --verify main",{cwd:s,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}),"main"}catch{try{return E("git rev-parse --verify master",{cwd:s,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}),"master"}catch{return"main"}}}function Ae(e){let s=[/issue\/(\d+)/i,/feature\/(\d+)/i,/fix\/(\d+)/i,/bug\/(\d+)/i,/feat\/(\d+)/i,/^(\d+)-/,/-(\d+)$/,/#(\d+)/];for(let t of s){let n=e.match(t);if(n)return parseInt(n[1],10)}return null}function He(e){let s=e||g();try{let t=E("git diff --cached --name-only",{cwd:s,encoding:"utf8",timeout:1e4,stdio:["pipe","pipe","pipe"]}).trim();return t?t.split(`
`).filter(n=>n.trim()):[]}catch{return[]}}function Xn(e){let s=He(e),t=new Set,n=new Set,r=!1,o=!1,i=!1,c=!1;for(let u of s){let p=u.split("/");p.length>1&&(t.add(p[0]),p.length>2&&t.add(`${p[0]}/${p[1]}`));let l=u.split(".").pop()||"";n.add(l),/\.(test|spec)\.\w+$/.test(u)||/^tests?\//.test(u)||/__tests__\//.test(u)?r=!0:/\.(md|mdx|txt|rst)$/.test(u)||/^docs?\//.test(u)||u==="README.md"?i=!0:/\.(json|ya?ml|toml|ini|cfg|env)$/.test(u)||/config/i.test(u)||u==="package.json"||u==="tsconfig.json"?o=!0:c=!0}return{files:s,directories:t,extensions:n,hasTests:r,hasConfig:o,hasDocs:i,hasSource:c}}function Qn(e){if(Ie(e))return null;let s=["issue/","feature/","fix/","bug/","feat/","chore/","docs/","refactor/","test/","ci/","perf/","style/","release/","hotfix/"];return s.some(n=>e.startsWith(n))?e.startsWith("issue/")&&!Ae(e)?"issue/ branches should include an issue number (e.g., issue/123-description)":null:`Branch name should start with a valid prefix: ${s.join(", ")}`}function gt(e,...s){let t=e.tool_input.file_path;if(!t)return a();let n=t.split(".").pop()?.toLowerCase()||"";return s.map(o=>o.toLowerCase().replace(/^\./,"")).includes(n)?null:a()}function I(e){return gt(e,"py","ts","tsx","js","jsx","go","rs","java")}function M(e){return gt(e,"py")}import{basename as De,dirname as Pe}from"node:path";function mt(e){let s=M(e);if(s)return s;let t=e.tool_input.file_path;if(!t)return a();if(!t.includes("/app/")&&!t.includes("/backend/"))return a();let n=De(t),r=Pe(t),o=[];if(n==="__init__.py")return a();if(r.endsWith("/routers")||r.includes("/routers/")){let i=/^(router_|routes_|api_).*\.py$/,c=/^(deps|dependencies|utils|helpers|base)\.py$/;!i.test(n)&&!c.test(n)&&(o.push("ROUTER NAMING: Files in routers/ must be prefixed"),o.push(`  Got: ${n}`),o.push("  Expected: router_*.py, routes_*.py, api_*.py, deps.py"))}if(r.endsWith("/services")||r.includes("/services/")){let i=/_service\.py$/,c=/^(base|utils|helpers|abstract)\.py$/;!i.test(n)&&!c.test(n)&&(o.push("SERVICE NAMING: Files in services/ must end with _service.py"),o.push(`  Got: ${n}`),o.push("  Expected: *_service.py, base.py, utils.py"))}if(r.endsWith("/repositories")||r.includes("/repositories/")){let i=/_(repository|repo)\.py$/,c=/^(base|abstract|utils)\.py$/;!i.test(n)&&!c.test(n)&&(o.push("REPOSITORY NAMING: Files in repositories/ must end with _repository.py"),o.push(`  Got: ${n}`),o.push("  Expected: *_repository.py, *_repo.py, base.py"))}if(r.endsWith("/schemas")||r.includes("/schemas/")){let i=/_(schema|dto|request|response)\.py$/,c=/^(base|common|shared|utils)\.py$/;!i.test(n)&&!c.test(n)&&(o.push("SCHEMA NAMING: Files in schemas/ must use proper suffix"),o.push(`  Got: ${n}`),o.push("  Expected: *_schema.py, *_dto.py, *_request.py, *_response.py"))}if(r.endsWith("/models")||r.includes("/models/")){let i=/_(model|entity|orm)\.py$/,c=/^(base|abstract|mixins)\.py$/;!i.test(n)&&!c.test(n)&&(o.push("MODEL NAMING: Files in models/ must use proper suffix"),o.push(`  Got: ${n}`),o.push("  Expected: *_model.py, *_entity.py, *_orm.py, base.py"))}if(/^[A-Z][a-zA-Z]+\.py$/.test(n)&&(o.push("NAMING: Python files should use snake_case, not PascalCase"),o.push(`  Got: ${n}`)),o.length>0){let i=`Backend naming violation in ${n}: ${o[0]}`;return h("backend-file-naming",`BLOCKED: ${i}`),y(i)}return a()}import{execSync as Oe}from"node:child_process";import{readFileSync as je,existsSync as Ne}from"node:fs";import{join as Le}from"node:path";var Fe=100,K=10240,ht=["decided","chose","selected","will use","implemented","architecture:","pattern:","approach:","recommendation:","best practice:","conclusion:"],Me=["database-engineer","backend-system-architect","frontend-ui-developer","security-auditor","test-generator","workflow-architect","llm-integrator","data-pipeline-engineer","metrics-architect","ux-researcher","ci-cd-engineer","infrastructure-architect","accessibility-specialist"],Ue=["postgresql","postgres","pgvector","redis","mongodb","sqlite","fastapi","django","flask","express","nextjs","react","vue","angular","typescript","python","jwt","oauth","passkeys","langchain","langgraph","langfuse","docker","kubernetes","terraform","aws","gcp","pytest","jest","vitest","playwright","msw"],Be=["cursor-pagination","repository-pattern","service-layer","clean-architecture","dependency-injection","event-sourcing","cqrs","saga-pattern","circuit-breaker","rate-limiting","optimistic-locking","caching","cache-aside","rag","semantic-search"],Ge=[["cursor-pagination",/cursor[- ]?(based)?[- ]?pagination/i],["jwt-validation",/jwt|json web token/i],["dependency-injection",/dependency injection|di pattern|ioc/i],["rate-limiting",/rate[- ]?limit|throttl/i],["circuit-breaker",/circuit[- ]?breaker|resilience/i],["event-sourcing",/event[- ]?sourc/i],["cqrs",{test:e=>/cqrs/i.test(e)||lt(e,"command","query","separation")}],["idempotency",/idempoten/i]],We=["critical","security","breaking","migration","architecture","production"],ze=["refactor","optimize","improve","update","enhance","fix"],C=null;function Ze(){if(process.env.CLAUDE_CODE_VERSION)return process.env.CLAUDE_CODE_VERSION;try{let s=Oe("claude --version 2>/dev/null",{encoding:"utf-8",timeout:2e3}).match(/(\d+\.\d+\.\d+)/);if(s)return s[1]}catch{}return"2.1.16"}function Ve(){if(C)return C;try{let e=q(),s=Le(e,".claude-plugin","plugin.json");if(Ne(s))return C=JSON.parse(je(s,"utf-8")).version||"unknown",C}catch{}return C="unknown",C}function yt(e){let s=e.toLowerCase();return{agents:[...new Set(Me.filter(t=>s.includes(t)))],technologies:[...new Set(Ue.filter(t=>s.includes(t)))],patterns:[...new Set(Be.filter(t=>s.includes(t)))]}}function qe(e){let s=e.toLowerCase();return/recommend|suggests|advises/.test(s)?"RECOMMENDS":/chose|selected|decided/.test(s)?"CHOSEN_FOR":/replace|instead of/.test(s)?"REPLACES":/conflict|incompatible/.test(s)?"CONFLICTS_WITH":"RELATES_TO"}var Ke=[/\bbecause\s+([^.,!?\n]+)/gi,/\bsince\s+([^.,!?\n]+)/gi,/\bdue to\s+([^.,!?\n]+)/gi,/\bto avoid\s+([^.,!?\n]+)/gi,/\bso that\s+([^.,!?\n]+)/gi,/\bin order to\s+([^.,!?\n]+)/gi,/\bas it\s+([^.,!?\n]+)/gi,/\bfor\s+(better|improved|faster|simpler|easier)\s+([^.,!?\n]+)/gi],Je=[/\bover\s+([^.,!?\n]+)/gi,/\binstead of\s+([^.,!?\n]+)/gi,/\brather than\s+([^.,!?\n]+)/gi,/\bnot\s+([^.,!?\n]+)/gi,/\bversus\s+([^.,!?\n]+)/gi,/\bvs\.?\s+([^.,!?\n]+)/gi],Ye=[/\b(must|need to|required|constraint|requirement)\s+([^.,!?\n]+)/gi,/\b(have to|has to|should)\s+([^.,!?\n]+)/gi,/\b(mandatory|essential)\s+([^.,!?\n]+)/gi],Xe=[/\b(tradeoff|trade-off|downside|drawback)\s*:?\s+([^.,!?\n]+)/gi,/\bbut\s+([^.,!?\n]+)/gi,/\bhowever\s+([^.,!?\n]+)/gi,/\balthough\s+([^.,!?\n]+)/gi,/\b(cost|limitation)\s+is\s+([^.,!?\n]+)/gi];function Qe(e){let s=e.toLowerCase();return ht.some(t=>s.includes(t))}function ts(e){let s=[];for(let t of ht){let n=new RegExp(`[^\\n]*${t}[^\\n]*`,"gi"),r=e.match(n);if(r)for(let o of r.slice(0,3)){let i=o.trim().slice(0,300);i.length>30&&s.push(i)}}return[...new Set(s)].slice(0,5)}function es(e){for(let s of Ke){let t=e.match(s);if(t)return t[1]?.trim().slice(0,200)}}function ss(e){let s=[];for(let t of Je){let n=e.matchAll(t);for(let r of n){let o=r[1]?.trim();o&&o.length>2&&o.length<100&&s.push(o)}}return[...new Set(s)].slice(0,3)}function ns(e){let s=[];for(let t of Ye){let n=e.matchAll(t);for(let r of n){let o=r[2]?.trim()||r[1]?.trim();o&&o.length>3&&o.length<150&&s.push(o)}}return[...new Set(s)].slice(0,3)}function rs(e){let s=[];for(let t of Xe){let n=e.matchAll(t);for(let r of n){let o=r[2]?.trim()||r[1]?.trim();o&&o.length>3&&o.length<150&&s.push(o)}}return[...new Set(s)].slice(0,3)}function os(e){let s=[/\b(?:chose|decided on|selected|using|will use|going with)\s+([^.,!?\n]+)/i,/\b(?:the decision is|decision:)\s+([^.,!?\n]+)/i,/\brecommend(?:ation)?:?\s+([^.,!?\n]+)/i];for(let t of s){let n=e.match(t);if(n)return n[1].trim().slice(0,100)}return e.slice(0,100).trim()}function is(e){let s=.5;return e.rationale&&(s+=.2),e.alternatives&&e.alternatives.length>0&&(s+=.1),e.constraints&&e.constraints.length>0&&(s+=.05),e.tradeoffs&&e.tradeoffs.length>0&&(s+=.05),e.entities.length>=1&&(s+=.05),e.entities.length>=2&&(s+=.05),e.importance==="high"&&(s+=.1),Math.min(.99,s)}function cs(e){let s=ts(e),t=[];for(let n of s){let r=yt(n),o=[...r.agents,...r.technologies,...r.patterns],i={what:os(n),text:n,rationale:es(n),alternatives:ss(n),constraints:ns(n),tradeoffs:rs(n),entities:o,confidence:0,category:kt(n),importance:as(n)};i.confidence=is(i),t.push(i)}return t}function kt(e){let s=e.slice(0,K).toLowerCase();return/pagination|cursor|offset/.test(s)?"pagination":/security|vulnerability|owasp/.test(s)?"security":/database|sql|postgres|schema/.test(s)?"database":/api|endpoint|rest|graphql/.test(s)?"api":/auth|login|jwt|oauth/.test(s)?"authentication":/test|pytest|jest|vitest/.test(s)?"testing":/deploy|ci|cd|docker|kubernetes/.test(s)?"deployment":/monitoring|logging|tracing|metrics/.test(s)?"observability":/react|frontend|ui|tailwind/.test(s)?"frontend":/llm|rag|embedding|langchain/.test(s)?"ai-ml":/architecture|design|pattern/.test(s)?"architecture":"decision"}function as(e){let s=e.toLowerCase();return We.some(t=>s.includes(t))?"high":ze.some(t=>s.includes(t))?"medium":"low"}function us(e){for(let[s,t]of Ge)if(t.test(e))return s;return null}function xt(e){let s=e.skill_name||e.tool_input?.skill||"",t=e.tool_result,n=typeof t=="string"?t:t?.content||e.output||"";if(!n||n.length<Fe)return a();let r=n.length>K?n.slice(0,K):n;if(!Qe(r))return a();let o=cs(r),i=yt(r),c=i.agents.length+i.technologies.length+i.patterns.length;if(o.length===0&&c===0)return a();let u=[],p=o[0],l=p?.category||kt(n.slice(0,200));if(o.length>0){let d=p?.importance||"low",m=us(p?.text||""),f=Ze(),b=Ve(),$={category:l,source:"orchestkit-plugin",skill:s||"unknown",cc_version:f,plugin_version:b,importance:d,timestamp:new Date().toISOString(),confidence:p?.confidence||.5};m&&($.best_practice=m),p?.rationale&&($.rationale=p.rationale),p?.alternatives?.length&&($.alternatives=p.alternatives),p?.constraints?.length&&($.constraints=p.constraints),p?.tradeoffs?.length&&($.tradeoffs=p.tradeoffs);let _=`[Decisions] Found ${o.length} decision(s) (category: ${l}, importance: ${d})`;if(p&&(_+=`

Primary Decision: "${p.what.slice(0,100)}"`,p.rationale&&(_+=`
Rationale: "${p.rationale.slice(0,150)}"`),p.alternatives?.length&&(_+=`
Alternatives considered: ${p.alternatives.join(", ")}`),p.constraints?.length&&(_+=`
Constraints: ${p.constraints.join("; ")}`),p.tradeoffs?.length&&(_+=`
Tradeoffs: ${p.tradeoffs.join("; ")}`),_+=`
Confidence: ${(p.confidence*100).toFixed(0)}%`),_+=`

To persist to knowledge graph:
mcp__memory__create_entities with entities: [{"name": "${l}-decision", "entityType": "Decision", "observations": ["<decision>"]}]`,u.push(_),p?.alternatives?.length){let j=p.alternatives.map(Zt=>({from:p.what,to:Zt,relationType:"CHOSE_OVER"}));u.push(`[Relations] Create CHOSE_OVER relations:
mcp__memory__create_relations with:
relations: ${JSON.stringify(j)}`)}}if(c>0){let d=qe(n),m=[...i.agents.map(f=>({name:f,entityType:"Agent",observations:[`Agent: ${f}`]})),...i.technologies.map(f=>({name:f,entityType:"Technology",observations:[`Tech: ${f}`]})),...i.patterns.map(f=>({name:f,entityType:"Pattern",observations:[`Pattern: ${f}`]}))];u.push(`[Entities] Found ${c} entities for graph memory:
- Agents: ${i.agents.length}
- Technologies: ${i.technologies.length}
- Patterns: ${i.patterns.length}

mcp__memory__create_entities with:
entities: ${JSON.stringify(m.slice(0,5))}

Relation type: ${d}`)}return{continue:!0,systemMessage:u.join(`

`)}}import{basename as ps}from"node:path";function _t(e){let s=M(e);if(s)return s;let t=e.tool_input.file_path,n=e.tool_input.content||e.tool_result||"";if(!t||!n)return a();let r=[];if(t.includes("/routers/")&&(/db\.(add|delete|commit|flush|rollback|refresh|execute|scalar)/.test(n)&&r.push("DATABASE: Direct database operations not allowed in routers"),/^from sqlalchemy import/m.test(n)&&r.push("IMPORT: SQLAlchemy imports not allowed in routers")),t.includes("/services/")&&(/HTTPException\s*\(/.test(n)&&r.push("HTTP: HTTPException not allowed in services - use domain exceptions"),n.includes("from fastapi import")&&(/Request/.test(n)||/Response/.test(n))&&r.push("HTTP: Request/Response types not allowed in services")),t.includes("/repositories/")&&(/HTTPException/.test(n)&&r.push("HTTP: HTTPException not allowed in repositories"),(T(n,"from","services","import")||T(n,"from","routers","import"))&&r.push("IMPORT: Repositories cannot import from services or routers")),r.length>0){let i=`Layer violation in ${ps(t)||t}: ${r[0]}`;return h("backend-layer-validator",`BLOCKED: ${i}`),y(i)}return a()}import{existsSync as U,mkdirSync as ls}from"node:fs";import{execSync as fs}from"node:child_process";function vt(e){let s=g(),t=v(),n=`${t}/coverage-check.log`,r=parseInt(process.env.COVERAGE_THRESHOLD||"80",10);try{ls(t,{recursive:!0})}catch{}let o=[],i=new Date().toISOString().replace("T"," ").slice(0,19);o.push(`[${i}] Coverage Check`);let c=`${s}/.coverage`,u=`${s}/coverage.xml`;if(U(c)||U(u))try{let d=fs("coverage report --fail-under=0",{cwd:s,encoding:"utf8",timeout:3e4,stdio:["pipe","pipe","pipe"]}).split(`
`).find(m=>m.includes("TOTAL"));if(d){let m=d.match(/(\d+)%/);if(m){let f=parseInt(m[1],10);o.push(`Python coverage: ${f}%`),f<r?o.push(`WARNING: Coverage ${f}% is below threshold ${r}%`):o.push("Coverage meets threshold")}}}catch{}let p=`${s}/coverage`;if(U(p)){let l=`${p}/coverage-summary.json`;U(l)&&(o.push(""),o.push("JavaScript/TypeScript coverage report found"),o.push("Check coverage/lcov-report/index.html for details"))}try{x(n,`${o.join(`
`)}
`)}catch{}return a()}import{existsSync as ds,readFileSync as gs}from"node:fs";var ms=["coverage/coverage-summary.json","coverage/coverage-final.json",".vitest/coverage/coverage-summary.json","coverage.json",".coverage.json","htmlcov/status.json"];function hs(e,s){try{let t=JSON.parse(s);return e.includes("coverage-summary.json")?t?.total?.lines?.pct??t?.total?.statements?.pct??null:e.includes("coverage.json")?t?.totals?.percent_covered??null:t?.total?.pct!==void 0?t.total.pct:null}catch{return null}}function St(e){let s=g(),t=parseInt(process.env.COVERAGE_THRESHOLD||"80",10),n="",r="";for(let c of ms){let u=`${s}/${c}`;if(ds(u)){n=u;try{r=gs(u,"utf8")}catch{continue}break}}if(!n||!r)return a();let o=hs(n,r);if(o===null)return a();if(Math.floor(o)<t){let c=`BLOCKED: Coverage ${o}% is below threshold ${t}%

Coverage report: ${n}

Actions required:
  1. Identify uncovered code paths
  2. Add tests for critical business logic
  3. Re-run tests with coverage:

     TypeScript: npm test -- --coverage
     Python:     pytest --cov=app --cov-report=term-missing

  4. Ensure coverage >= ${t}% before proceeding

Tip: Focus on testing:
  - Business logic (services, utils)
  - Edge cases and error handling
  - Critical user flows`;return y(c)}return a()}import{existsSync as P,readFileSync as ys}from"node:fs";import{basename as B,dirname as A}from"node:path";function ks(e){return/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(e)||/test_[^/.]{0,200}\.py$/.test(e)||/_test\.py$/.test(e)}function xs(e){if(/\.(ts|tsx|js|jsx)$/.test(e)){let s=e.replace(/\.[^.]+$/,""),t=e.split(".").pop()||"ts",n=[`${s}.test.${t}`,`${s}.spec.${t}`,`${s}.test.ts`,`${s}.test.tsx`];for(let u of n)if(P(u))return u;let r=A(e),i=B(e).replace(/\.[^.]+$/,""),c=[`${r}/__tests__/${i}.test.${t}`,`${r}/__tests__/${i}.spec.${t}`];for(let u of c)if(P(u))return u}else if(e.endsWith(".py")){let s=A(e),n=`test_${B(e)}`;if(P(`${s}/${n}`))return`${s}/${n}`;let r=A(s);if(P(`${r}/tests/${n}`))return`${r}/tests/${n}`;if(P(`${s}/tests/${n}`))return`${s}/tests/${n}`}return null}function _s(e,s){let t=[];if(/\.(ts|tsx|js|jsx)$/.test(s)){let n=e.match(/export (function|class|const|async function)\s+([A-Za-z_][A-Za-z0-9_]*)/g);if(n)for(let r of n){let o=r.split(/\s+/).pop();o&&t.push(o)}}else if(s.endsWith(".py")){let n=e.split(`
`);for(let r of n){let o=r.match(/^(def|class)\s+([A-Za-z][A-Za-z0-9_]*)/);o?.[2]&&t.push(o[2])}}return[...new Set(t)]}function bt(e){let s=e.tool_input?.file_path||"",t=e.tool_input?.content||e.tool_result||"";if(!s||!t)return a();if(ks(s))return a();if(!/\.(ts|tsx|js|jsx|py)$/.test(s))return a();let n=[],r=[],o=xs(s),i=_s(t,s);if(i.length>0)if(o)try{let c=ys(o,"utf8"),u=[];for(let p of i)new RegExp(`\\b${p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`).test(c)||u.push(p);if(u.length>0){r.push("TEST COVERAGE: New units without tests"),r.push(`  Implementation: ${s}`),r.push(`  Test file: ${o}`),r.push(""),r.push(`  Untested units (${u.length}/${i.length}):`);for(let p of u.slice(0,5))r.push(`    - ${p}`);r.push(""),r.push("  Add tests before committing")}}catch{}else{if(n.push("TEST COVERAGE: No test file found for implementation"),n.push(`  Implementation: ${s}`),n.push("  Expected test file:"),/\.(ts|tsx|js|jsx)$/.test(s)){let c=s.replace(/\.[^.]+$/,""),u=s.split(".").pop()||"ts",p=A(s),l=B(s);n.push(`    - ${c}.test.${u}`),n.push(`    - ${p}/__tests__/${l}`)}else if(s.endsWith(".py")){let c=B(s),u=A(s);n.push(`    - ${u}/test_${c}`),n.push(`    - ${A(u)}/tests/test_${c}`)}n.push(""),n.push(`  Found ${i.length} testable units:`);for(let c of i.slice(0,5))n.push(`    - ${c}`)}if(n.length>0)return y(`Missing test coverage for new code: ${n[0]}`);if(r.length>0){let c=r.join(`
`);return k(`Test coverage warnings detected:

${c}`)}return a()}import{basename as vs}from"node:path";function $t(e){let s=e.tool_input?.file_path||"",t=e.tool_input?.content||e.tool_result||"";if(!s||!t)return a();if(!(s.includes("/routers/")&&s.endsWith(".py")))return a();let n=vs(s);if(/^(deps|dependencies|__init__)\.py$/.test(n))return a();let r=[];if(t.includes("Service()")&&/=\s*[A-Z]/.test(t)){let o=t.indexOf("Service()"),i="Service()";if(o>0){let p=t.substring(Math.max(0,o-50),o+9).split(/[^A-Za-z]/).filter(l=>l.endsWith("Service")).pop();p&&(i=`${p}()`)}r.push("INSTANTIATION: Direct service instantiation not allowed"),r.push(`  Found: ${i}`),r.push("  "),r.push("  Use dependency injection:"),r.push("    service: MyService = Depends(get_my_service)")}if((t.includes("Repository()")||t.includes("Repo()"))&&/=\s*[A-Z]/.test(t)){let o=t.indexOf("Repository()")!==-1?t.indexOf("Repository()"):t.indexOf("Repo()"),i="Repository()";if(o>0){let p=t.substring(Math.max(0,o-50),o+15).split(/[^A-Za-z]/).filter(l=>l.endsWith("Repository")||l.endsWith("Repo")).pop();p&&(i=`${p}()`)}r.push("INSTANTIATION: Direct repository instantiation not allowed"),r.push(`  Found: ${i}`),r.push("  "),r.push("  Use dependency injection:"),r.push("    repo: MyRepository = Depends(get_my_repository)")}if((t.includes("Service(")||t.includes("Repository(")||t.includes("Repo("))&&/^[a-z_]+\s*=\s*[A-Z]/m.test(t)&&(r.push("GLOBAL: Global service/repository instance not allowed"),r.push("  "),r.push("  Global instances cause:"),r.push("    - Shared state between requests"),r.push("    - Difficult testing"),r.push("    - Connection pool issues"),r.push("  "),r.push("  Use Depends() for request-scoped instances")),(t.includes("Session")||t.includes("AsyncSession"))&&t.includes(")")&&(/:\s*(Async)?Session\s*=\s*Depends/.test(t)||(r.push("DI: Database session must use Depends()"),r.push("  "),r.push("  BAD:  async def get_users(db: AsyncSession):"),r.push("  GOOD: async def get_users(db: AsyncSession = Depends(get_db)):"))),/@router\.(get|post|put|patch|delete)/.test(t)&&(t.includes("Service")||t.includes("Repository")||t.includes("Repo"))&&/:\s*[A-Z]/.test(t)&&(t.includes("= Depends")||(r.push("DI: Service/Repository parameters must use Depends()"),r.push("  "),r.push("  BAD:  async def create_user(user_service: UserService):"),r.push("  GOOD: async def create_user(user_service: UserService = Depends(get_user_service)):"))),/async def/.test(t)){/db\.query\(/.test(t)&&(t.includes("await")&&t.includes("db.query(")||(r.push("ASYNC: Sync database call in async function"),r.push("  Found: db.query() (sync pattern)"),r.push("  "),r.push("  Use async SQLAlchemy 2.0 patterns:"),r.push("    result = await db.execute(select(User))"),r.push("    users = result.scalars().all()")));let o=/db\.(add|delete|commit|flush|rollback|refresh)\(/;if(o.test(t)&&/AsyncSession/.test(t)){let i=t.split(`
`);for(let c of i)if(o.test(c)&&!c.includes("await")){r.push("ASYNC: Missing await for async database operation"),r.push("  "),r.push("  With AsyncSession, use await:"),r.push("    await db.commit()"),r.push("    await db.refresh(user)");break}}}if(r.length>0){h("di-pattern-enforcer",`BLOCKED: DI violation in ${s}`);let o=`Dependency injection violation in ${s}. See stderr for details.`;return k(o)}return a()}import{readFileSync as Ss,readdirSync as bs}from"node:fs";function $s(e,s){let t=[];if(/\.(ts|tsx|js|jsx)$/.test(s)){let n=e.match(/(function|class|const|export function|export class)\s+[A-Za-z_][A-Za-z0-9_]*/g);n&&t.push(...n)}else if(s.endsWith(".py")){let n=e.split(`
`);for(let r of n){let o=r.match(/^(def|class)\s+[A-Za-z_][A-Za-z0-9_]*/);o&&t.push(o[0])}}return[...new Set(t)]}function Rs(e,s){let t=[],n=["node_modules",".venv","venv","__pycache__","dist","build",".next",".git"];function r(o){try{let i=bs(o,{withFileTypes:!0});for(let c of i){let u=`${o}/${c.name}`;c.isDirectory()?n.includes(c.name)||r(u):c.isFile()&&s.test(c.name)&&t.push(u)}}catch{}}return r(e),t}function Es(e){let s=[],t=e.split(`
`),n="",r=0,o=0;for(let i=0;i<t.length;i++){let c=t[i].trim();c&&c===n?(r++,r>=3&&s.push(`Line ${o}: ${n.substring(0,50)}`)):(n=c,r=1,o=i+1)}return s}function ws(e,s){let t=[],n=[];if(/\.(ts|tsx|js|jsx)$/.test(s)){e.includes("new Date")&&e.includes("toLocaleDateString")&&(t.push("UTILITY: Direct date formatting detected"),t.push("  Use centralized date utilities: import { formatDate } from '@/lib/dates'"));let r=(e.match(/fetch\s*\(\s*['"]/g)||[]).length;r>2&&(n.push(`UTILITY: Multiple fetch calls detected (${r})`),n.push("  Consider using centralized API client or custom hook"));let o=e.split(`
`).filter(i=>i.includes(".test(")&&/if\s*\(/.test(i)).length;o>3&&(n.push(`UTILITY: Multiple inline validations detected (${o})`),n.push("  Use Zod schemas: const schema = z.object({...})"))}if(s.endsWith(".py")){let r=(e.match(/json\.loads/g)||[]).length;r>3&&(n.push(`UTILITY: Multiple json.loads detected (${r})`),n.push("  Consider centralized JSON handling with error recovery"));let o=(e.match(/os\.getenv|os\.environ/g)||[]).length;o>5&&(n.push(`UTILITY: Multiple environment variable accesses (${o})`),n.push("  Use Settings/Config class with Pydantic validation"))}return{errors:t,warnings:n}}function Rt(e){let s=e.tool_input?.file_path||"",t=e.tool_input?.content||e.tool_result||"";if(!s||!t)return a();if(!/\.(ts|tsx|js|jsx|py)$/.test(s))return a();let n=[],r=[],o=$s(t,s);if(o.length>0){let u=R()||g(),p=Rs(u,/\.(ts|tsx|js|jsx|py)$/);for(let l of o){let d=l.split(/\s+/).pop()||"";if(d){for(let m of p)if(m!==s)try{let f=Ss(m,"utf8");if(new RegExp(`\\b${d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}\\b`).test(f)&&f.includes(l)){let $=m.replace(`${u}/`,"");r.push(`DUPLICATE: '${d}' already exists in:`),r.push(`  - ${$}`),r.push("  Consider:"),r.push("    1. Reusing existing implementation"),r.push("    2. Extracting to shared utility"),r.push("    3. Using different name if intentionally different");break}}catch{}}}}let i=Es(t);if(i.length>0){r.push("COPY-PASTE: Repeated code blocks detected:");for(let u of i.slice(0,5))r.push(`  ${u}`);r.push("  Refactor repeated logic into functions")}let c=ws(t,s);if(n.push(...c.errors),r.push(...c.warnings),n.length>0){let u=`Duplicate code violation in ${s}. See stderr for details.`;return k(u)}if(r.length>0){let u=`Potential code duplication detected in ${s}. Review warnings on stderr.`;return k(u)}return a()}import{existsSync as J,readFileSync as Et,readdirSync as Ts}from"node:fs";function wt(e){let s=g(),t=[];t.push("::group::LLM Evaluation Summary");let n=`${s}/eval_results.json`;if(J(n)){t.push("Evaluation results found:");try{let i=Et(n,"utf8"),c=JSON.parse(i);if(typeof c=="object"&&c!==null){for(let[u,p]of Object.entries(c))if(typeof p=="number"){let l=Number.isInteger(p)?p.toString():p.toFixed(2);t.push(`  ${u}: ${l}`)}}}catch{try{let c=Et(n,"utf8").split(`
`).slice(0,20);t.push(...c)}catch{t.push("  (Unable to read file)")}}}let r=`${s}/.deepeval`;if(J(r)){t.push(""),t.push("DeepEval results directory found");try{let i=Ts(r).slice(0,5);for(let c of i)t.push(`  ${c}`)}catch{}}let o=`${s}/ragas_results.json`;J(o)&&(t.push(""),t.push("RAGAS evaluation results found")),t.push(""),t.push("Evaluation complete - review metrics above"),t.push("::endgroup::");for(let i of t)process.stderr.write(`${i}
`);return a()}import{existsSync as w,mkdirSync as Is,readdirSync as Cs}from"node:fs";function Tt(e){let s=v(),t=g(),n=`${s}/evidence-collector.log`;try{Is(s,{recursive:!0})}catch{}let r=new Date().toISOString().replace("T"," ").slice(0,19),o=[];o.push(`[${r}] Evidence Collection`),o.push("Recent command results:");let i=process.env.CC_LAST_EXIT_CODE;i&&o.push(`  Last exit code: ${i}`),(w(`${t}/pytest.xml`)||w(`${t}/junit.xml`))&&o.push("  Test results: Found (XML format)");let c=`${t}/test-results`;if(w(c)){o.push("  Test results directory: Found");try{let u=Cs(c).slice(0,5);for(let p of u)o.push(`    ${p}`)}catch{}}(w(`${t}/.coverage`)||w(`${t}/coverage`))&&o.push("  Coverage data: Found"),(w(`${t}/lint-results.json`)||w(`${t}/eslint-report.json`))&&o.push("  Lint results: Found"),o.push("Evidence verification complete.");try{x(n,`${o.join(`
`)}
`)}catch{}return a()}import{basename as As}from"node:path";function Hs(e){return e.includes("/shared/")?"shared":e.includes("/lib/")?"lib":e.includes("/utils/")?"utils":e.includes("/components/")&&!e.includes("/features/")?"components":e.includes("/hooks/")&&!e.includes("/features/")?"hooks":e.includes("/features/")?"features":e.includes("/app/")||e.includes("/pages/")?"app":e.includes("/repositories/")?"repositories":e.includes("/services/")&&e.endsWith(".py")?"services":e.includes("/routers/")?"routers":null}function It(e){let s=I(e);if(s)return s;let t=e.tool_input.file_path||"",n=e.tool_input.content||e.tool_result||"";if(!t||!n)return a();let r=Hs(t);if(!r)return a();let o=[];if(/\.(ts|tsx|js|jsx)$/.test(t))switch(r){case"shared":case"lib":case"utils":/from ['"](@\/|\.\.\/)*(features|app)\//.test(n)&&o.push(`${r}/ cannot import from features/ or app/`);break;case"components":case"hooks":/from ['"](@\/|\.\.\/)*(features|app)\//.test(n)&&o.push(`${r}/ cannot import from features/ or app/`);break;case"features":/from ['"](@\/|\.\.\/)*app\//.test(n)&&o.push("features/ cannot import from app/");break}if(t.endsWith(".py"))switch(r){case"repositories":/from (app\.)?(services|routers)/.test(n)&&o.push("repositories/ cannot import from services/ or routers/");break;case"services":/from (app\.)?routers\.[a-z]/.test(n)&&(/from (app\.)?routers\.(deps|dependencies)/.test(n)||o.push("services/ cannot import from routers/"));break}if(o.length>0){let c=`Import direction violation in ${As(t)||t}: ${o[0]}`;return h("import-direction-enforcer",`BLOCKED: ${c}`),y(c)}return a()}import{existsSync as Ps,readFileSync as Os}from"node:fs";import{execSync as O}from"node:child_process";var Ds=/^[a-zA-Z0-9._/~=:@-]+$/;function Ct(e,s="argument"){if(!e||!Ds.test(e))throw new Error(`Unsafe shell ${s}: ${JSON.stringify(e)}`);return e}function H(e,s="git ref"){if(!e||!/^[a-zA-Z0-9._/-]+$/.test(e))throw new Error(`Unsafe ${s}: ${JSON.stringify(e)}`);return e}function js(){try{return O("git worktree list --porcelain",{encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).split(`
`).filter(s=>s.startsWith("worktree ")).map(s=>s.replace("worktree ",""))}catch{return[]}}function Ns(e){try{return O("git rev-parse --abbrev-ref HEAD",{cwd:e,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim()}catch{return"unknown"}}function Ls(e,s){try{let t=Ct(s,"relative path"),n=O(`git status --short "${t}"`,{cwd:e,encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]});return/^.M|^M.|^A/.test(n)}catch{return!1}}function Fs(e,s){try{let t=H(e,"base branch"),n=H(s,"current branch"),r=parseInt(O(`git rev-list --count ${t}..${n}`,{encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim(),10),o=parseInt(O(`git rev-list --count ${n}..${t}`,{encoding:"utf8",timeout:5e3,stdio:["pipe","pipe","pipe"]}).trim(),10);return{ahead:r||0,behind:o||0}}catch{return{ahead:0,behind:0}}}function At(e){let s=e.tool_input.file_path||"",t=e.tool_input.content||e.tool_result||"";if(!s||!t)return a();let n=js();if(n.length===0)return a();let r=[],o=[],i=R()||g(),c=i,u=s.replace(`${i}/`,"").replace(i,"");for(let d of n){if(d===c)continue;let m=`${d}/${u}`;if(!Ps(m))continue;let f=Ns(d);if(Ls(d,u)){o.push({worktree:d,branch:f,status:"modified"});try{let b=Os(m,"utf8"),$=t.split(`
`),_=b.split(`
`),j=Math.abs($.length-_.length);j>10&&(r.push(`OVERLAP: Significant changes in both branches (~${j} lines)`),r.push(`  Branch: ${f}`),r.push("  High risk of merge conflict"))}catch{}}}let p=D(),l=dt();if(p!==l){let{ahead:d,behind:m}=Fs(l,p);m>10&&(r.push(`DIVERGENCE: Current branch is ${m} commits behind ${l}`),r.push("  Consider rebasing before continuing development"),r.push("  This reduces merge conflict risk"))}if(o.length>0){r.unshift("MERGE CONFLICT RISK: Concurrent modifications detected"),r.unshift(""),r.unshift(`File: ${s}`);for(let d of o)r.push(`  Branch: ${d.branch}`),r.push(`  Status: ${d.status}`),r.push(`  Path: ${d.worktree}`);r.push(""),r.push("Recommendations:"),r.push("  1. Coordinate changes with other instances"),r.push("  2. Consider splitting work to avoid overlapping files"),r.push("  3. Communicate before merging")}if(r.length>0){let d=`Potential merge conflicts detected in ${s}. Review warnings on stderr.`;return process.stderr.write(`${r.join(`
`)}
`),k(d)}return a()}import{existsSync as Y,readFileSync as Ms}from"node:fs";import{execSync as Us}from"node:child_process";function S(e,s){try{return Us(e,{cwd:s||g(),encoding:"utf8",timeout:3e4,stdio:["pipe","pipe","pipe"]}).trim()}catch{return""}}function Ht(e){let s=e.tool_input?.command||"";if(!/\b(gh\s+pr\s+merge|git\s+merge|git\s+rebase)\b/i.test(s))return a();let t=e.tool_input.target_branch||"main",n=H(t,"target branch"),r=H(D(),"current branch");if(r===n)return process.stderr.write(`Already on target branch ${n}
`),a();process.stderr.write(`Checking merge readiness: ${r} -> ${n}

`);let o=R()||g(),i=[],c=[],u=[];if(process.stderr.write(`1. Checking for uncommitted changes...
`),ft()){let f=S("git status --short");i.push("Uncommitted changes detected:"),i.push(f.split(`
`).slice(0,10).join(`
`))}else u.push("No uncommitted changes");process.stderr.write(`2. Checking branch divergence...
`),S(`git fetch origin ${n}`);let p=parseInt(S(`git rev-list --count origin/${n}..${r}`)||"0",10),l=parseInt(S(`git rev-list --count ${r}..origin/${n}`)||"0",10);if(process.stderr.write(`   Ahead: ${p} commits, Behind: ${l} commits
`),l>20?(i.push(`Branch is significantly behind ${n} (${l} commits)`),i.push(`Rebase or merge ${n} before proceeding`)):l>5?(c.push(`Branch is behind ${n} by ${l} commits`),c.push("Consider rebasing for easier merge")):u.push(`Branch is up to date (behind by ${l})`),process.stderr.write(`3. Checking for merge conflicts...
`),S(`git merge --no-commit --no-ff origin/${n}`).includes("CONFLICT")){let f=S("git diff --name-only --diff-filter=U");i.push(`Merge conflicts detected with ${n}:`);for(let b of f.split(`
`).slice(0,10))b&&i.push(`  - ${b}`);i.push("Resolve conflicts before merging"),S("git merge --abort")}else u.push("No merge conflicts detected"),S("git merge --abort");process.stderr.write(`4. Running quality gates on changed files...
`);let m=S(`git merge-base ${r} origin/${n}`);if(m){let b=S(`git diff --name-only ${m} ${r}`).split(`
`).filter(Boolean).length;process.stderr.write(`   Checking ${b} changed files...
`),u.push("Quality gates check performed")}else c.push("Cannot determine merge base - skipping file checks");if(process.stderr.write(`5. Checking test suite...
`),Y(`${o}/package.json`)&&Ms(`${o}/package.json`,"utf8").includes('"test":')&&u.push("Frontend test script found"),(Y(`${o}/pytest.ini`)||Y(`${o}/pyproject.toml`))&&u.push("Backend test configuration found"),process.stderr.write(`
`),process.stderr.write(`${"=".repeat(60)}
`),process.stderr.write(`
MERGE READINESS REPORT

`),process.stderr.write(`Branch: ${r} -> ${n}

`),u.length>0){process.stderr.write(`PASSED CHECKS:
`);for(let f of u)process.stderr.write(`   ${f}
`);process.stderr.write(`
`)}if(c.length>0){process.stderr.write(`WARNINGS:
`);for(let f of c)process.stderr.write(`   ${f}
`);process.stderr.write(`
`)}if(i.length>0){process.stderr.write(`BLOCKERS:
`);for(let f of i)process.stderr.write(`   ${f}
`);return process.stderr.write(`
MERGE NOT READY - Fix blockers before merging
`),{continue:!1,stopReason:"Merge not ready - blockers detected"}}return c.length>0?(process.stderr.write(`MERGE READY WITH WARNINGS
`),process.stderr.write(`Review warnings before proceeding with merge
`)):(process.stderr.write(`MERGE READY - All checks passed!
`),process.stderr.write(`You can safely merge this branch
`)),a()}import{existsSync as Bs,readFileSync as Gs}from"node:fs";import{execSync as Ws}from"node:child_process";import{basename as zs}from"node:path";function Dt(e){let s=e.tool_input?.file_path||process.env.CC_TOOL_FILE_PATH||"";if(!s)return a();if(!s.includes("alembic/versions")||!s.endsWith(".py"))return a();if(!Bs(s))return a();process.stderr.write(`::group::Migration Validation: ${zs(s)}
`);let t=[],n;try{n=Gs(s,"utf8")}catch{return t.push("Cannot read migration file"),k(`Migration validation failed for ${s}`)}n.includes("def upgrade")||t.push("Missing upgrade() function in migration"),n.includes("def downgrade")||t.push("Missing downgrade() function in migration"),/^revision = /m.test(n)||t.push("Missing revision ID in migration");try{Ws(`python3 -m py_compile "${s}"`,{encoding:"utf8",timeout:1e4,stdio:["pipe","pipe","pipe"]})}catch{t.push("Python syntax error in migration")}if(t.length>0){process.stderr.write(`::error::Migration validation failed
`);for(let o of t)process.stderr.write(`  - ${o}
`);process.stderr.write(`::endgroup::
`),h("migration-validator",`BLOCKED: ${t[0]}`);let r=`Migration validation failed for ${s}. See stderr for details.`;return k(r)}return process.stderr.write(`Migration file is valid
`),process.stderr.write(`::endgroup::
`),a()}import{existsSync as Zs}from"node:fs";function Pt(e){let s=e.tool_input.file_path||"",t=e.tool_input.content||e.tool_result||"";if(!s||!t)return a();let r=`${R()||g()}/.claude/context/knowledge/patterns/established.json`;if(!Zs(r))return a();let o=[],i=[];if(s.endsWith(".py")&&(s.includes("/backend/")||s.includes("/api/"))&&(s.includes("/routers/")&&T(t,"from","repositories","import")&&(o.push("PATTERN: Router imports repository directly"),o.push("  Established pattern: routers -> services -> repositories"),o.push("  Import from services/ layer instead")),s.includes("/services/")&&T(t,"from","routers","import")&&(o.push("PATTERN: Service imports router (circular dependency)"),o.push("  Established pattern: Services are independent of HTTP layer")),/from sqlalchemy import/.test(t)&&(/from sqlalchemy\.ext\.asyncio import/.test(t)||/Session|sessionmaker/.test(t)&&(o.push("PATTERN: Using sync SQLAlchemy instead of async"),o.push("  Established pattern: All DB operations use async/await"),o.push("  Import: from sqlalchemy.ext.asyncio import AsyncSession"))),t.includes("from pydantic import")&&t.includes("BaseModel")&&(/@validator\(/.test(t)&&(o.push("PATTERN: Using Pydantic v1 @validator decorator"),o.push("  Established pattern: Pydantic v2 with @field_validator"),o.push("  Update: @field_validator('field_name', mode='after')")),/@root_validator/.test(t)&&(o.push("PATTERN: Using Pydantic v1 @root_validator decorator"),o.push("  Established pattern: Pydantic v2 with @model_validator"),o.push("  Update: @model_validator(mode='after')")))),/\.(ts|tsx|js|jsx)$/.test(s)&&(s.includes("/frontend/")||s.includes("/src/"))&&(/React\.FC</.test(t)&&(o.push("PATTERN: Using React.FC instead of explicit Props type"),o.push("  Established pattern: function Component(props: Props): React.ReactNode"),o.push("  Remove React.FC, use explicit function declaration")),/fetch\(|axios\./.test(t)&&(/from ['"]zod['"]/.test(t)||(o.push("PATTERN: API call without Zod validation"),o.push("  Established pattern: All API responses validated with Zod"),o.push("  Import: import { z } from 'zod'"))),/<form/.test(t)&&(/useFormStatus|useActionState|useOptimistic/.test(t)||(i.push("PATTERN: Form without React 19 form hooks"),i.push("  Established pattern: Use useFormStatus for pending state"),i.push("  Consider: useOptimistic for optimistic updates"))),t.includes("new Date")&&(/toLocaleDateString/.test(t)||/toLocaleString/.test(t))&&(o.push("PATTERN: Direct date formatting instead of centralized utility"),o.push("  Established pattern: Use @/lib/dates helpers"),o.push("  Import: import { formatDate, formatDateShort } from '@/lib/dates'"))),(/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(s)||s.includes("test_")&&s.endsWith(".py"))&&(/\/\/ Arrange|\/\/ Act|\/\/ Assert|# Arrange|# Act|# Assert/i.test(t)||(i.push("PATTERN: AAA pattern comments missing"),i.push("  Established pattern: Structure tests with Arrange-Act-Assert"),i.push("  Add comments for clarity in complex tests")),/\.(ts|tsx|js|jsx)$/.test(s)&&(t.includes("jest.mock")&&t.includes("fetch")||t.includes("global.fetch"))&&(o.push("PATTERN: Using jest.mock for fetch instead of MSW"),o.push("  Established pattern: Use MSW for API mocking"),o.push("  Import: import { http, HttpResponse } from 'msw'")),s.endsWith(".py")&&t.includes("class Test")&&t.includes("setUp")&&(o.push("PATTERN: Using unittest setUp instead of pytest fixtures"),o.push("  Established pattern: Use pytest fixtures"),o.push("  Convert: @pytest.fixture\\ndef setup_data():"))),(s.includes("/llm/")||s.includes("/ai/")||s.includes("/agent/"))&&((t.includes("prompt")&&t.includes("{")&&t.includes("id")&&t.includes("}")||t.includes('f"')&&t.includes(".id}")&&t.includes('"'))&&(o.push("PATTERN: Database IDs in LLM prompts"),o.push("  Established pattern: IDs flow around LLM, not through it"),o.push("  Pass IDs via metadata, join results after LLM processing")),t.includes("await")&&(t.includes("openai")||t.includes("anthropic")||t.includes("llm"))&&(/asyncio\.timeout|asyncio\.wait_for|Promise\.race/.test(t)||(o.push("PATTERN: LLM call without timeout protection"),o.push("  Established pattern: Wrap all LLM calls with timeout"),o.push("  Python: async with asyncio.timeout(30):"),o.push("  TypeScript: await Promise.race([call, timeout])")))),o.length>0)return y(`Pattern consistency violations detected in ${s}`);if(i.length>0){process.stderr.write(`WARNING: Pattern consistency issues detected
`),process.stderr.write(`File: ${s}

`);for(let c of i)process.stderr.write(`  ${c}
`)}return a()}var Vs=[/sk-[a-zA-Z0-9]{20,}/,/ghp_[a-zA-Z0-9]{36}/,/AKIA[A-Z0-9]{16}/,/xox[baprs]-[a-zA-Z0-9-]+/,/tvly-[a-zA-Z0-9-]{10,}/,/m0-[a-zA-Z0-9]{10,}/],qs=[/password\s*[:=]\s*['"][^'"]+['"]/i,/secret\s*[:=]\s*['"][^'"]+['"]/i];function Ot(e){let s=e.tool_result||e.output||"";if(!s)return a();for(let t of Vs)if(t.test(s)){process.stderr.write(`::warning::Potential API key detected in output - verify redaction
`);break}for(let t of qs)if(t.test(s)){process.stderr.write(`::warning::Potential hardcoded credential in output
`);break}return a()}import{mkdirSync as Ks}from"node:fs";function jt(e){let s=v(),t=`${s}/review-summary.log`;try{Ks(s,{recursive:!0})}catch{}let r=`[${new Date().toISOString().replace("T"," ").slice(0,19)}] Code Review Summary
Review checklist:
  [ ] All blocking issues addressed
  [ ] Non-blocking suggestions noted
  [ ] Tests pass
  [ ] No security concerns
  [ ] Documentation updated if needed

Conventional comment prefixes used:
  - blocking: Must fix before merge
  - suggestion: Consider this improvement
  - nitpick: Minor style issue
  - question: Needs clarification
  - praise: Good work!
`;try{x(t,`${r}
`)}catch{}return a()}import{mkdirSync as Js}from"node:fs";function Nt(e){let s=v(),t=`${s}/security-summary.log`;try{Js(s,{recursive:!0})}catch{}let r=`[${new Date().toISOString().replace("T"," ").slice(0,19)}] Security Scan Complete
Review findings for:
  - Critical/High vulnerabilities (fix immediately)
  - Dependency CVEs (update packages)
  - Hardcoded secrets (move to env vars)
  - OWASP Top 10 violations

Next steps:
  1. Triage findings by severity
  2. Create issues for critical/high
  3. Update dependencies with CVEs
`;try{x(t,`${r}
`)}catch{}return a()}import{basename as Ys,dirname as Xs}from"node:path";var Lt=4;function Ft(e){let s=I(e);if(s)return s;let t=e.tool_input.file_path||"";if(!t)return a();let n=t.replace(/\\/g,"/"),r=[],o=Ys(n);if(n.includes("/src/")||n.includes("/app/")){let i="";n.includes("/src/")?i=n.split("/src/")[1]||"":i=n.split("/app/")[1]||"";let c=i.split(/[/\\]/).filter(Boolean).length;c>Lt&&r.push(`NESTING: Max depth exceeded - ${c} levels (max: ${Lt})`)}if(/^index\.(ts|tsx|js)$/.test(o)&&!n.includes("/app/")&&!/\/(node_modules|dist|build)\//.test(n)&&r.push("BARREL: Barrel files (index.ts) are discouraged - import directly from source"),/\.(tsx|ts|jsx|js)$/.test(n)&&(/^[A-Z][a-zA-Z0-9]*\.(tsx|jsx)$/.test(o)&&(/(components\/|features\/|app\/|pages\/)/.test(n)||r.push("COMPONENT: React components must be in components/, features/, or app/")),/^use[A-Z][a-zA-Z0-9]*\.(ts|tsx)$/.test(o)&&(/(hooks\/|\/hooks\/)/.test(n)||r.push("HOOK: Custom hooks must be in hooks/ directory"))),n.endsWith(".py")){let i=Xs(n);/^(router_|routes_|api_).*\.py$/.test(o)&&!i.endsWith("/routers")&&!i.endsWith("routers")&&r.push("ROUTER: Router files must be in routers/ directory"),/_service\.py$/.test(o)&&!i.endsWith("/services")&&!i.endsWith("services")&&r.push("SERVICE: Service files must be in services/ directory"),/_(repository|repo)\.py$/.test(o)&&!i.endsWith("/repositories")&&!i.endsWith("repositories")&&r.push("REPOSITORY: Repository files must be in repositories/ directory")}if(r.length>0){let i=`Structure violation: ${r[0]}`;return h("structure-location-validator",`BLOCKED: ${i}`),y(i)}return a()}import{basename as Qs}from"node:path";function tn(e){return!!(/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(e)||/(^|\/)test_[^/]*\.py$/.test(e)||/_test\.py$/.test(e))}function Mt(e){let s=I(e);if(s)return s;let t=e.tool_input.file_path||"";if(!t)return a();let n=Qs(t),r=tn(t);if(r&&!/(tests\/|__tests__\/|\/test\/|test\/)/.test(t)){let o=`Test file must be in tests/, __tests__/, or test/ directory: ${n}`;return h("test-location-validator",`BLOCKED: ${o}`),y(o)}if(!r&&/(tests\/|__tests__\/|\/test\/)/.test(t)){let i=[/^(conftest|fixtures|factories|mocks|__init__|setup|helpers|utils)\.py$/,/^(setup|helpers|utils|mocks|fixtures)\.(ts|js)$/].some(u=>u.test(n)),c=/\/(fixtures|mocks|factories|__mocks__)\//.test(t);if(!i&&!c){let u=`Source files cannot be in test directories: ${n}`;return h("test-location-validator",`BLOCKED: ${u}`),y(u)}}if(/\.(ts|tsx|js|jsx)$/.test(t)&&/(tests\/|__tests__)/.test(t)){if(/^(setup|jest|vitest|config|helpers|utils|mocks)\./.test(n))return a();if(!/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(n)){let o=`Test files must use .test.ts or .spec.ts suffix: ${n}`;return h("test-location-validator",`BLOCKED: ${o}`),y(o)}}if(t.endsWith(".py")&&/(tests\/|\/test\/)/.test(t)){if(/^(conftest|__init__|fixtures|factories|mocks|helpers)\.py$/.test(n))return a();if(!/^test_.*\.py$/.test(n)&&!/_test\.py$/.test(n)){let o=`Python test files must be named test_*.py or *_test.py: ${n}`;return h("test-location-validator",`BLOCKED: ${o}`),y(o)}}return a()}function en(e){return!!(/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(e)||/(^|\/)test_[^/]*\.py$/.test(e)||/_test\.py$/.test(e))}function Ut(e){let s=e.tool_input?.file_path||"",t=e.tool_input?.content||e.tool_result||"";if(!s||!t)return a();if(!en(s))return a();let n=[];if(/\.(ts|tsx|js|jsx)$/.test(s)){let r=t.match(/(test|it)\(['"][^'"]{1,10}['"]/g);r&&r.some(u=>/test[0-9]|works|^test$/i.test(u))&&(n.push("Test names too short or generic. Use descriptive names:"),n.push("  BAD:  test('test1'), test('works')"),n.push("  GOOD: test('should return user when ID exists')")),/^let [a-zA-Z_][a-zA-Z0-9_]* =/m.test(t)&&(/beforeEach\s*\(\s*(async\s*)?\(\s*\)\s*=>/.test(t)||(n.push("Shared mutable state detected without beforeEach reset:"),n.push("  Add beforeEach(() => { /* reset state */ }) to ensure test isolation")));let o=(t.match(/expect\(/g)||[]).length,i=(t.match(/(test|it)\s*\(/g)||[]).length||1,c=Math.floor(o/i);c>5&&(n.push(`High assertion count (avg ${c} per test):`),n.push("  Consider splitting into focused tests with 1-3 assertions each"),n.push("  Or add AAA comments (// Arrange, // Act, // Assert)")),/console\.(log|warn|error)\(/.test(t)&&(n.push("console.log found in test file:"),n.push("  Remove debugging statements before committing"),n.push("  Use proper assertions instead")),/(test|it|describe)\.only\(/.test(t)&&(n.push(".only() found - this skips other tests:"),n.push("  Remove .only() before committing")),/(test|it|describe)\.skip\(/.test(t)&&!/TODO|FIXME|temporarily/i.test(t)&&!(t.includes("skip")&&/because/i.test(t))&&(n.push(".skip() found without explanation:"),n.push("  Add a comment explaining why the test is skipped"),n.push("  Example: test.skip('reason: waiting for API fix')"))}return s.endsWith(".py")&&(/def test[A-Z]/.test(t)&&(n.push("Test names must use snake_case, not camelCase:"),n.push("  BAD:  def testUserCreation()"),n.push("  GOOD: def test_user_creation()")),/def (setUp|tearDown|setUpClass|tearDownClass)\s*\(/.test(t)&&(n.push("Use pytest fixtures instead of unittest setUp/tearDown:"),n.push("  BAD:  def setUp(self): ..."),n.push("  GOOD: @pytest.fixture\\n        def setup_data(): ...")),t.includes("class Test")&&t.includes(":")&&(/^\s+[a-z_]+ = \[\]/m.test(t)||/^\s+[a-z_]+ = \{\}/m.test(t))&&(n.push("Class-level mutable defaults can cause test pollution:"),n.push("  BAD:  class TestUser:\\n            items = []"),n.push("  GOOD: Use @pytest.fixture to create fresh instances")),/^\s+print\(/m.test(t)&&(n.push("print() found in test file:"),n.push("  Remove debugging statements before committing"),n.push("  Use proper assertions or pytest's capfd fixture")),(/@pytest\.mark\.skip\s*$/.test(t)||/@pytest\.mark\.skip\(\s*\)/.test(t))&&(n.push("@pytest.mark.skip without reason:"),n.push("  Add reason: @pytest.mark.skip(reason='waiting for fix')")),/async def test_/.test(t)&&(/@pytest\.mark\.asyncio/.test(t)||(n.push("Async test found without @pytest.mark.asyncio:"),n.push("  Add: @pytest.mark.asyncio"),n.push("  Or set asyncio_mode = auto in pytest.ini")))),n.length>0?(h("test-pattern-validator",`BLOCKED: ${n[0]}`),y(`Test pattern violations detected in ${s}`)):a()}import{existsSync as Gt}from"node:fs";import{execSync as Bt,execFileSync as X}from"node:child_process";import{basename as Q,dirname as tt}from"node:path";function sn(e){let s=e;for(;s&&s!=="/"&&s.length>0;){if(Gt(`${s}/package.json`))return s;let t=tt(s);if(t===s)break;s=t}return null}function nn(e){return/^[\w./ -]+$/.test(e)}function Wt(e){let s=e.tool_input?.file_path||process.env.CC_TOOL_FILE_PATH||"";if(!s||!nn(s))return a();if(s.endsWith(".py")&&/(?:^|\/)test[^/.]*\.py$/.test(s)||/_test\.py$/.test(s)){process.stderr.write(`::group::Auto-running Python test: ${Q(s)}
`);let t=tt(s);try{if(Gt(`${t}/pyproject.toml`))try{Bt("command -v poetry",{stdio:["pipe","pipe","pipe"]});let r=X("poetry",["run","pytest",s,"-v","--tb=short"],{cwd:t,encoding:"utf8",timeout:6e4,stdio:["pipe","pipe","pipe"]}).split(`
`).slice(-30);process.stderr.write(`${r.join(`
`)}
`)}catch{}try{Bt("command -v pytest",{stdio:["pipe","pipe","pipe"]});let r=X("pytest",[s,"-v","--tb=short"],{cwd:t,encoding:"utf8",timeout:6e4,stdio:["pipe","pipe","pipe"]}).split(`
`).slice(-30);process.stderr.write(`${r.join(`
`)}
`)}catch{process.stderr.write(`pytest not found - skipping auto-run
`)}}catch(n){n instanceof Error&&process.stderr.write(`Test execution error: ${n.message}
`)}process.stderr.write(`::endgroup::
`)}if(/\.(test|spec)\.(ts|tsx|js|jsx)$/.test(s)){process.stderr.write(`::group::Auto-running TypeScript test: ${Q(s)}
`);let t=sn(tt(s));if(t)try{let n=Q(s).replace(/\.[^.]+$/,"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=X("npm",["test","--",`--testPathPattern=${n}`],{cwd:t,encoding:"utf8",timeout:6e4,stdio:["pipe","pipe","pipe"]}).split(`
`).slice(-30);process.stderr.write(`${o.join(`
`)}
`)}catch(n){n instanceof Error&&process.stderr.write(`Test execution error: ${n.message}
`)}process.stderr.write(`::endgroup::
`)}return a()}var zt={"skill/backend-file-naming":mt,"skill/decision-processor":xt,"skill/backend-layer-validator":_t,"skill/coverage-check":vt,"skill/coverage-threshold-gate":St,"skill/cross-instance-test-validator":bt,"skill/di-pattern-enforcer":$t,"skill/duplicate-code-detector":Rt,"skill/eval-metrics-collector":wt,"skill/evidence-collector":Tt,"skill/import-direction-enforcer":It,"skill/merge-conflict-predictor":At,"skill/merge-readiness-checker":Ht,"skill/migration-validator":Dt,"skill/pattern-consistency-enforcer":Pt,"skill/redact-secrets":Ot,"skill/review-summary-generator":jt,"skill/security-summary":Nt,"skill/structure-location-validator":Ft,"skill/test-location-validator":Mt,"skill/test-pattern-validator":Ut,"skill/test-runner":Wt};function li(e){return zt[e]}function fi(){return Object.keys(zt)}export{Xn as analyzeStagedChanges,Vn as escapeRegex,Te as estimateTokenCount,Un as extractContext,Ae as extractIssueNumber,ct as fnv1aHash,Cn as getCachedBranch,D as getCurrentBranch,dt as getDefaultBranch,In as getEnvFile,zn as getField,Ce as getGitStatus,li as getHook,v as getLogDir,be as getLogLevel,q as getPluginRoot,g as getProjectDir,R as getRepoRoot,V as getSessionId,He as getStagedFiles,ft as hasUncommittedChanges,zt as hooks,rn as isBashInput,cn as isEditInput,Yn as isGitRepo,Ie as isProtectedBranch,an as isReadInput,on as isWriteInput,T as lineContainsAll,lt as lineContainsAllCI,fi as listHooks,h as logHook,Mn as logPermissionFeedback,Zn as normalizeCommand,An as normalizeLineEndings,Pn as outputAllowWithContext,y as outputBlock,Ln as outputDeny,On as outputError,Re as outputPromptContext,Bn as outputPromptContextBudgeted,Hn as outputSilentAllow,a as outputSilentSuccess,Nn as outputStderrWarning,jn as outputWarning,k as outputWithContext,Dn as outputWithNotification,Fn as outputWithUpdatedInput,Wn as readHookInput,$e as shouldLog,Qn as validateBranchName,Gn as writeRulesFile};
//# sourceMappingURL=skill.mjs.map
